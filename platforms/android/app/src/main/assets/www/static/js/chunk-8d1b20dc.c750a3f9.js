(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8d1b20dc"],{"2eca":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticStyle:{height:"auto",width:"100%",background:"white"}},[n("van-nav-bar",{staticClass:"common-nav-bar",attrs:{fixed:!0,"left-arrow":"",title:"污染日历"},on:{"click-left":t.historyBack}}),n("div",{staticClass:"calendar",staticStyle:{"margin-top":"47px"}},[n("div",{staticClass:"next_and_prev"},[n("div",{staticClass:"left"},[n("ul",[n("li",{on:{click:t.prevMonth}},[n("van-icon",{attrs:{name:"arrow-left"}})],1),n("li",[t._v(t._s(t.dateTop))]),n("li",{on:{click:t.nextMonth}},[n("van-icon",{attrs:{name:"arrow"}})],1)])]),n("div",{staticClass:"right",on:{click:function(e){return t.$router.go(0)}}},[t._v(" 回到今天 ")])]),n("Calendar",{ref:"calendar",attrs:{textTop:t.textTop,sundayStart:!0,markDateMore:t.marker},on:{choseDay:t.clickDay,changeMonth:t.changeMonth}})],1),n("div",{staticClass:"airQuality"},[n("div",{staticClass:"title"},[t._v("空气质量 "),n("font",[t._v("("+t._s(t.currentData.spt?t.currentData.spt.slice(0,4)+"-"+t.currentData.spt.slice(4,6)+"-"+t.currentData.spt.slice(6,8):"--")+")")])],1),n("div",{staticClass:"quality"},[n("ul",[n("li",[0==t.currentData.level?[n("span",{staticClass:"level1 selected"},[n("font",[t._v(t._s(t.currentData.aqi))]),t._v("优")],1),t._v(" "),n("div",{staticClass:"first"},[t._v("0"),n("font",[t._v("50")])],1)]:[t._v(" 优 "),n("span",{staticClass:"level1"}),t._v(" "),n("div",{staticClass:"first"},[t._v("0"),n("font",[t._v("50")])],1)]],2),n("li",[1==t.currentData.level?[n("span",{staticClass:"level2 selected"},[n("font",[t._v(t._s(t.currentData.aqi))]),t._v("良")],1),t._v(" 100 ")]:[t._v(" 良 "),n("span",{staticClass:"level2"}),t._v("100 ")]],2),n("li",[2==t.currentData.level?[n("span",{staticClass:"level3 selected"},[n("font",[t._v(t._s(t.currentData.aqi))]),t._v("轻度")],1),t._v(" 150 ")]:[t._v(" 轻度 "),n("span",{staticClass:"level3"}),t._v("150 ")]],2),n("li",[3==t.currentData.level?[n("span",{staticClass:"level4 selected"},[n("font",[t._v(t._s(t.currentData.aqi))]),t._v("中度")],1),t._v(" 200 ")]:[t._v(" 中度 "),n("span",{staticClass:"level4"}),t._v("200 ")]],2),n("li",[4==t.currentData.level?[n("span",{staticClass:"level5 selected"},[n("font",[t._v(t._s(t.currentData.aqi))]),t._v("重度")],1),t._v(" 300 ")]:[t._v(" 重度 "),n("span",{staticClass:"level5"}),t._v("300 ")]],2),n("li",[5==t.currentData.level?[n("span",{staticClass:"level6 selected"},[n("font",[t._v(t._s(t.currentData.aqi))]),t._v("严重")],1),t._v(" 500 ")]:[t._v(" 严重 "),n("span",{staticClass:"level6"}),t._v("500 ")]],2)])])]),n("div",{staticClass:"contaminated"},[n("div",{staticClass:"title"},[n("div",{staticClass:"left"},[n("img",{attrs:{src:a("5b59"),alt:""}}),t._v(" 首要污染物："+t._s(t.currentData.primaryPollution))]),n("div",{staticClass:"right"},[t._v("注：CO单位为mg/m3，其余与μg/m3")])]),n("div",{staticClass:"cont"},[n("ul",[n("li",[n("span",[t._v("PM2.5")]),n("span",[t._v(t._s(t.currentData.pm25||"--"))])]),n("li",[n("span",[t._v("PM10")]),n("span",[t._v(t._s(t.currentData.pm10||"--"))])]),n("li",[n("span",[t._v("SO2")]),n("span",[t._v(t._s(t.currentData.so2||"--"))])]),n("li",[n("span",[t._v("NO2")]),n("span",[t._v(t._s(t.currentData.no2||"--"))])]),n("li",[n("span",[t._v("CO")]),n("span",[t._v(t._s(t.currentData.co||"--"))])]),n("li",[n("span",[t._v("O3")]),n("span",[t._v(t._s(t.currentData.o3||"--"))])])])])])],1)},s=[],i=(a("4160"),a("fb6a"),a("ac1f"),a("5319"),a("159b"),a("c3f3")),r={name:"calendar",components:{Calendar:i["a"]},data:function(){return{textTop:["日","一","二","三","四","五","六"],dateTop:"",show_level:1,checkLevel:!1,calendarData:[],currentData:{},firstClick:!0,marker:[],calendarTime:{startTime:"",endTime:"",mnType:"city",timeType:"日",mns:""}}},methods:{clickDay:function(t){this.currentData=this.calendarData[t.id-1]},changeMonth:function(t){var e=this;this.$nextTick((function(){e.dateTop=e.$refs.calendar.dateTop})),t=t.replace("/","-").replace("/","-");var a=new Date(t),n=new Date(a.format("yyyy"),a.format("MM"),0);this.calendarTime.endTime=a.format("yyyyMM"+n.getDate()+"hh"),this.calendarTime.startTime=a.format("yyyyMM0100"),this.getCalendarData()},prevMonth:function(){this.$refs.calendar.PreMonth(this.$refs.calendar.myDate,!1),this.dateTop=this.$refs.calendar.dateTop},nextMonth:function(){this.$refs.calendar.NextMonth(this.$refs.calendar.myDate,!1),this.dateTop=this.$refs.calendar.dateTop},getCalendarData:function(){var t=this,e=new Date,a=new Date(e.format("yyyyy"),e.format("MM"),0);a.getDate();this.marker=[],this.$http.get("/AirAppXY-Service/air/getAirCalendarData",{params:this.calendarTime}).then((function(e){200==e.data.code&&(t.calendarData=e.data.content.info,t.calendarData.forEach((function(e,a){var n={date:e.spt.slice(0,4)+"-"+e.spt.slice(4,6)+"-"+e.spt.slice(6,8),className:"level"+(e.level+1)};!e.hasOwnProperty("level")&&t.calendarData[a-1].hasOwnProperty("level")&&(t.checkLevel=!0,t.currentData=t.calendarData[a-1],t.marker[a-1].chooseDay=!0),t.marker.push(n)})))}))}},activated:function(){var t=this,e=new Date,a=new Date(e.format("yyyy"),e.format("MM"),0);this.calendarTime.endTime=e.format("yyyyMM"+a.getDate()+"hh"),this.calendarTime.startTime=e.format("yyyyMM0100"),this.getCalendarData(),this.$nextTick((function(){t.dateTop=t.$refs.calendar.dateTop}))},beforeRouteEnter:function(t,e,a){a((function(t){t.$store.state.vuex.stationData.id?(t.calendarTime.mns=t.$store.state.vuex.stationData.id,t.calendarTime.mnType="station"):(t.calendarTime.mns="",t.calendarTime.mnType="city")}))}},o=r,c=(a("9977"),a("2877")),h=Object(c["a"])(o,n,s,!1,null,"7ecb7bea",null);e["default"]=h.exports},"37eb":function(t,e,a){},"5b59":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAABmElEQVQ4T5XUzUoCURQH8DOjOTFpQWhCkDPmIog2Ri/RIwS1aNtouih6jD4M12ZWm0DoGVqEtQnEIBDUsqSoNMWPwpm4I6Mzdz7uNOszv7nnnP9cCmw8vJDfB4oulY4XD0nlFKkAYeEgG3v++KHem2KchFqCCFuZZ+MpgYPa1y+sHZWAhJqCamyCoeVGirUeETUEcezqrgFz3jEI8ywR1YE4ls01YDdTBZah4UQIEFENiGOXN3XYO38BSRqszj1ORocgCVPSQEJl0C6mRlNbAVgO6mdKyTnj2fhplAO0zWyuDjuZUZtmOWVdNKQjWvTtW4xQfKQQ83kcBxcxDkJ+BvJPHdhIlKHRES0zH/K74HybB9+kE26LbdhMVlrNbn910PI/0YVZBtICp8MqyaXr0VJsogg7i3Iw7daeDGHocNrYEFASpgON2n+odmE9UYaZKaflyZSBG/962EkfX3vg9ThM21Rvz/xywFD0knqbyszwKFhfXyr0s9UfRsMMM5wh/kUlUu2eKOfMCrMFoiJOKAiSJN6TMFT7B+DEXYfl+zr8AAAAAElFTkSuQmCC"},6857:function(t,e,a){"use strict";a("961b")},"961b":function(t,e,a){},9977:function(t,e,a){"use strict";a("37eb")},c3f3:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"wh_container"},[a("div",{staticClass:"wh_content_all"},[a("div",{staticClass:"wh_top_changge"},[a("li",{on:{click:function(e){return t.PreMonth(t.myDate,!1)}}},[a("div",{staticClass:"wh_jiantou1"})]),a("li",{staticClass:"wh_content_li"},[t._v(t._s(t.dateTop))]),a("li",{on:{click:function(e){return t.NextMonth(t.myDate,!1)}}},[a("div",{staticClass:"wh_jiantou2"})])]),a("div",{staticClass:"wh_content"},t._l(t.textTop,(function(e){return a("div",{staticClass:"wh_content_item"},[a("div",{staticClass:"wh_top_tag"},[t._v(t._s(e))])])})),0),a("div",{staticClass:"wh_content"},t._l(t.list,(function(e,n){return a("div",{staticClass:"wh_content_item",on:{click:function(a){return t.clickDay(e,n)}}},[a("div",{staticClass:"wh_item_date",class:[{wh_isMark:e.isMark},{wh_other_dayhide:"nowMonth"!==e.otherMonth},{wh_want_dayhide:e.dayHide},{wh_isToday:e.isToday},{wh_chose_day:e.chooseDay},t.setClass(e)]},[t._v(t._s(e.id))])])})),0)])])},s=[],i=(a("99af"),a("c975"),a("d81d"),a("b85c")),r=a("3835"),o=(a("ac1f"),a("5319"),a("1276"),a("2909")),c={getDaysInOneMonth:function(t){var e=t.getFullYear(),a=t.getMonth()+1,n=new Date(e,a,0);return n.getDate()},getMonthweek:function(t){var e=t.getFullYear(),a=t.getMonth()+1,n=new Date(e+"/"+a+"/1");return this.sundayStart?0==n.getDay()?7:n.getDay():0==n.getDay()?6:n.getDay()-1},getOtherMonth:function(t){var e,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"nextMonth",n=this.dateFormat(t).split("/"),s=n[0],i=n[1],r=n[2],o=s;"nextMonth"===a?(e=parseInt(i)+1,13==e&&(o=parseInt(o)+1,e=1)):(e=parseInt(i)-1,0==e&&(o=parseInt(o)-1,e=12));var c=r,h=new Date(o,e,0).getDate();c>h&&(c=h),e<10&&(e="0"+e),c<10&&(c="0"+c);var l=o+"/"+e+"/"+c;return new Date(l)},getLeftArr:function(t){for(var e=[],a=this.getMonthweek(t),n=this.getDaysInOneMonth(this.getOtherMonth(t,"preMonth"))-a+1,s=this.getOtherMonth(t,"preMonth"),i=0;i<a;i++){var r=s.getFullYear()+"/"+(s.getMonth()+1)+"/"+(n+i);e.push({id:n+i,date:r,isToday:!1,otherMonth:"preMonth"})}return e},getRightArr:function(t){for(var e=[],a=this.getOtherMonth(t,"nextMonth"),n=this.getDaysInOneMonth(t)+this.getMonthweek(t),s=7-n%7,i=0;i<s;i++){var r=a.getFullYear()+"/"+(a.getMonth()+1)+"/"+(i+1);e.push({id:i+1,date:r,isToday:!1,otherMonth:"nextMonth"})}return e},dateFormat:function(t){return t="string"===typeof t?new Date(t.replace(/\-/g,"/")):t,t.getFullYear()+"/"+(t.getMonth()+1)+"/"+t.getDate()},getMonthListNoOther:function(t){for(var e=[],a=this.getDaysInOneMonth(t),n=t.getFullYear(),s=t.getMonth()+1,i=this.dateFormat(new Date),r=0;r<a;r++){var o=n+"/"+s+"/"+(r+1);e.push({id:r+1,date:o,isToday:i===o,otherMonth:"nowMonth"})}return e},getMonthList:function(t){return[].concat(Object(o["a"])(this.getLeftArr(t)),Object(o["a"])(this.getMonthListNoOther(t)),Object(o["a"])(this.getRightArr(t)))},sundayStart:!1},h={data:function(){return{myDate:[],list:[],historyChose:[],dateTop:""}},props:{markDate:{type:Array,default:function(){return[]}},markDateMore:{type:Array,default:function(){return[]}},textTop:{type:Array,default:function(){return["一","二","三","四","五","六","日"]}},sundayStart:{type:Boolean,default:function(){return!1}},agoDayHide:{type:String,default:"0"},futureDayHide:{type:String,default:"2554387200"}},created:function(){this.intStart(),this.myDate=new Date},methods:{intStart:function(){c.sundayStart=this.sundayStart},setClass:function(t){var e={};return e[t.markClassName]=t.markClassName,e},clickDay:function(t,e){"nowMonth"!==t.otherMonth||t.dayHide||this.getList(this.myDate,t.date,!0,t),"nowMonth"!==t.otherMonth&&("preMonth"===t.otherMonth?this.PreMonth(t.date):this.NextMonth(t.date))},ChoseMonth:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t=c.dateFormat(t),this.myDate=new Date(t),this.$emit("changeMonth",c.dateFormat(this.myDate)),e?this.getList(this.myDate,t,e):this.getList(this.myDate)},PreMonth:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t=c.dateFormat(t),this.myDate=c.getOtherMonth(this.myDate,"preMonth"),this.$emit("changeMonth",c.dateFormat(this.myDate)),e?this.getList(this.myDate,t,e):this.getList(this.myDate)},NextMonth:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t=c.dateFormat(t),this.myDate=c.getOtherMonth(this.myDate,"nextMonth"),this.$emit("changeMonth",c.dateFormat(this.myDate)),e?this.getList(this.myDate,t,e):this.getList(this.myDate)},forMatArgs:function(){var t=this.markDate,e=this.markDateMore;return t=t.map((function(t){return c.dateFormat(t)})),e=e.map((function(t){return t.date=c.dateFormat(t.date),t})),[t,e]},getList:function(t,e){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},n=this.forMatArgs(),s=Object(r["a"])(n,2),o=s[0],h=s[1];this.dateTop="".concat(t.getFullYear(),"年").concat(t.getMonth()+1,"月");for(var l=c.getMonthList(this.myDate),d=0;d<l.length;d++){var u="",v=l[d];v.chooseDay=!1;var y,f=v.date,m=new Date(f).getTime()/1e3,D=Object(i["a"])(h);try{for(D.s();!(y=D.n()).done;){var p=y.value;p.date===f&&(u=p.className||"",p.chooseDay&&(v.chooseDay=p.chooseDay))}}catch(_){D.e(_)}finally{D.f()}v.markClassName=u,v.isMark=o.indexOf(f)>-1,v.dayHide=m<this.agoDayHide||m>this.futureDayHide,v.isToday&&this.$emit("isToday",f);var g=!v.dayHide&&"nowMonth"===v.otherMonth;e&&e===f&&g?(this.$emit("choseDay",a),this.historyChose.push(f),v.chooseDay=!0):this.historyChose[this.historyChose.length-1]===f&&!e&&g&&(v.chooseDay=!0)}this.list=l}},mounted:function(){this.getList(this.myDate)},watch:{markDate:{handler:function(t,e){this.getList(this.myDate)},deep:!0},markDateMore:{handler:function(t,e){this.getList(this.myDate)},deep:!0},agoDayHide:{handler:function(t,e){this.getList(this.myDate)},deep:!0},futureDayHide:{handler:function(t,e){this.getList(this.myDate)},deep:!0},sundayStart:{handler:function(t,e){this.intStart(),this.getList(this.myDate)},deep:!0}}},l=h,d=(a("6857"),a("2877")),u=Object(d["a"])(l,n,s,!1,null,"72beb94a",null),v=u.exports;e["a"]=v;"undefined"!==typeof window&&window.Vue&&window.Vue.component("clock",Clock)}}]);
//# sourceMappingURL=chunk-8d1b20dc.c750a3f9.js.map